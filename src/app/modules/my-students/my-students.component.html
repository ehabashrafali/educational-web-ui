<div class="grid w-full mb-10">
  <div class="flex justify-between w-full">
    <p class="text-4xl ms-10 mt-5 font-semibold">My Students</p>
  </div>

  <div class="grid grid-cols-1 gap-4 m-10">
    <div
      class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl shadow"
    >
      <div class="mx-6 overflow-x-auto">
        <table
          mat-table
          matSort
          [dataSource]="dataSource"
          [trackBy]="trackByFn"
          class="w-full bg-transparent"
        >
          <!-- Name -->
          <ng-container matColumnDef="Name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Student Name
            </th>
            <td mat-cell *matCellDef="let student">
              {{ student.fullName }}
            </td>
          </ng-container>

          <ng-container matColumnDef="ReportStatus">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Report Status
            </th>
            <td mat-cell *matCellDef="let student">
              <div class="flex items-center gap-2">
                <mat-icon
                  *ngIf="setReportStatus(student) === 'Done'"
                  color="primary"
                >
                  check_circle
                </mat-icon>

                <mat-icon
                  *ngIf="setReportStatus(student) === 'Add'"
                  color="accent"
                  (click)="addReport(student.id); $event.stopPropagation()"
                  class="cursor-pointer hover:scale-110 transition"
                  matTooltip="Add monthly report"
                >
                  add_circle
                </mat-icon>

                <span class="font-medium">
                  {{ setReportStatus(student) }}
                </span>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr
            mat-row
            (click)="onRowClick(row)"
            *matRowDef="let row; columns: displayedColumns"
            class="h-16"
          ></tr>
        </table>
        <!-- Empty State -->
        <div
          *ngIf="dataSource.data.length === 0"
          class="text-secondary p-6 text-sm text-black"
        >
          No students available yet.
        </div>
      </div>
    </div>
  </div>
</div>
